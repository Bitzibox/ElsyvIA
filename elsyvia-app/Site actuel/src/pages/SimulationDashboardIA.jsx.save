import React, { useState, useEffect } from 'react';
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';
import { TrendingUp, TrendingDown, AlertTriangle, ShoppingCart, DollarSign, Users, Target, Calendar, Cloud, Sun, CloudRain, Snowflake, Thermometer, Star, Package, BarChart3, Brain, Zap, ArrowRight, Mail, Building, User, MessageSquare } from 'lucide-react';

const DashboardSimulation = () => {
  // √âtats pour les filtres
  const [selectedPeriod, setSelectedPeriod] = useState('mois');
  const [selectedWeather, setSelectedWeather] = useState('ensoleille');
  const [selectedEvent, setSelectedEvent] = useState('aucun');
  const [selectedCategory, setSelectedCategory] = useState('tous');
  const [showContactForm, setShowContactForm] = useState(false);
  const [chartData, setChartData] = useState([]);
  const [aiAnalysis, setAiAnalysis] = useState('');

  // Donn√©es mock pour les KPIs
  const kpis = [
    {
      title: 'Chiffre d\'Affaires',
      value: '125 450 ‚Ç¨',
      change: '+8%',
      trend: 'up',
      icon: DollarSign,
      subtitle: 'Mois en cours'
    },
    {
      title: 'Marge Brute',
      value: '48 200 ‚Ç¨',
      change: '38,4%',
      trend: 'up',
      icon: TrendingUp,
      subtitle: 'Rentabilit√©'
    },
    {
      title: 'Panier Moyen',
      value: '87,50 ‚Ç¨',
      change: '+2,3%',
      trend: 'up',
      icon: ShoppingCart,
      subtitle: 'Par transaction'
    },
    {
      title: 'Taux de Conversion',
      value: '2,1%',
      change: '+0,3%',
      trend: 'up',
      icon: Target,
      subtitle: 'Visiteurs ‚Üí Clients'
    }
  ];

  // G√©n√©ration dynamique des donn√©es de graphique
  const generateChartData = () => {
    const baseData = [
      { name: 'J-30', historique: 45000, projection: null },
      { name: 'J-25', historique: 47000, projection: null },
      { name: 'J-20', historique: 46500, projection: null },
      { name: 'J-15', historique: 49000, projection: null },
      { name: 'J-10', historique: 48500, projection: null },
      { name: 'J-5', historique: 51000, projection: null },
      { name: 'Aujourd\'hui', historique: 52000, projection: 52000 }
    ];

    // Calcul des projections selon les filtres
    let multiplier = 1;
    if (selectedWeather === 'ensoleille') multiplier += 0.15;
    if (selectedWeather === 'canicule') multiplier += 0.25;
    if (selectedWeather === 'pluvieux') multiplier -= 0.10;
    if (selectedEvent === 'vacances') multiplier += 0.12;
    if (selectedEvent === 'competition') multiplier += 0.08;
    if (selectedEvent === 'soldes') multiplier += 0.30;

    const projectionData = selectedPeriod === 'semaine' 
      ? [
          { name: 'J+1', historique: null, projection: 52000 * multiplier },
          { name: 'J+3', historique: null, projection: 53000 * multiplier },
          { name: 'J+7', historique: null, projection: 54500 * multiplier }
        ]
      : selectedPeriod === 'mois'
      ? [
          { name: 'S+1', historique: null, projection: 210000 * multiplier },
          { name: 'S+2', historique: null, projection: 220000 * multiplier },
          { name: 'S+3', historique: null, projection: 225000 * multiplier },
          { name: 'S+4', historique: null, projection: 235000 * multiplier }
        ]
      : [
          { name: 'M+1', historique: null, projection: 850000 * multiplier },
          { name: 'M+2', historique: null, projection: 920000 * multiplier },
          { name: 'M+3', historique: null, projection: 980000 * multiplier }
        ];

    return [...baseData, ...projectionData];
  };

  // G√©n√©ration de l'analyse IA
  const generateAiAnalysis = () => {
    const weatherTexts = {
      'ensoleille': 'm√©t√©o ensoleill√©e favorise les activit√©s outdoor (+15% Randonn√©e, +20% Natation)',
      'variable': 'm√©t√©o variable maintient un √©quilibre entre indoor/outdoor',
      'pluvieux': 'm√©t√©o pluvieuse oriente vers l\'indoor (+25% Fitness, +18% Tapis de course)',
      'neige': 'conditions hivernales dopent les sports d\'hiver (+40% Ski, +15% V√™tements chauds)',
      'canicule': 'canicule booste la demande de rafra√Æchissement (+35% Natation, +50% Gourdes)'
    };

    const eventTexts = {
      'aucun': '',
      'vacances': ' Les vacances scolaires augmentent la fr√©quentation familiale (+22% sur tous segments).',
      'competition': ' L\'√©v√©nement sportif local g√©n√®re une demande sp√©cialis√©e (+15% √©quipements sp√©cifiques).',
      'soldes': ' La p√©riode de soldes stimule fortement les achats (+30% volume global).'
    };

    const categoryTexts = {
      'tous': 'toutes cat√©gories confondues',
      'running': 'sp√©cifiquement sur la cat√©gorie Running',
      'natation': 'concentr√©e sur la Natation',
      'fitness': 'orient√©e Fitness & Musculation',
      'randonnee': 'focalis√©e sur la Randonn√©e'
    };

    const period = selectedPeriod === 'semaine' ? 'la semaine prochaine' : 
                   selectedPeriod === 'mois' ? 'le mois prochain' : 'le prochain trimestre';

    return `üß† Analyse IA : Pour ${period}, la ${weatherTexts[selectedWeather]} ${categoryTexts[selectedCategory]}.${eventTexts[selectedEvent]} Notre algorithme pr√©dictif recommande d'ajuster les stocks en cons√©quence et d'adapter la communication marketing.`;
  };

  // Mise √† jour des donn√©es quand les filtres changent
  useEffect(() => {
    setChartData(generateChartData());
    setAiAnalysis(generateAiAnalysis());
  }, [selectedPeriod, selectedWeather, selectedEvent, selectedCategory]);

  // Composant KPI Card
  const KpiCard = ({ kpi }) => {
    const Icon = kpi.icon;
    return (
      <div className="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100">
        <div className="flex items-center justify-between mb-4">
          <div className="p-3 bg-teal-50 rounded-xl">
            <Icon className="w-6 h-6 text-teal-500" />
          </div>
          <div className={`flex items-center space-x-1 ${kpi.trend === 'up' ? 'text-green-600' : 'text-red-600'}`}>
            {kpi.trend === 'up' ? <TrendingUp className="w-4 h-4" /> : <TrendingDown className="w-4 h-4" />}
            <span className="text-sm font-semibold">{kpi.change}</span>
          </div>
        </div>
        <h3 className="text-2xl font-bold text-gray-800 mb-1">{kpi.value}</h3>
        <p className="text-sm text-gray-600">{kpi.title}</p>
        <p className="text-xs text-gray-500 mt-1">{kpi.subtitle}</p>
      </div>
    );
  };

  // Composant Formulaire de Contact
  const ContactForm = () => (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
      <div className="bg-white p-8 rounded-2xl max-w-md w-full">
        <h3 className="text-2xl font-bold text-gray-800 mb-6">Demander une d√©mo</h3>
        <form className="space-y-4">
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">Nom complet</label>
            <div className="relative">
              <User className="w-5 h-5 text-gray-400 absolute left-3 top-3" />
              <input 
                type="text" 
                className="pl-10 w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent"
                placeholder="Votre nom"
              />
            </div>
          </div>
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">Email</label>
            <div className="relative">
              <Mail className="w-5 h-5 text-gray-400 absolute left-3 top-3" />
              <input 
                type="email" 
                className="pl-10 w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent"
                placeholder="votre@email.com"
              />
            </div>
          </div>
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">Entreprise</label>
            <div className="relative">
              <Building className="w-5 h-5 text-gray-400 absolute left-3 top-3" />
              <input 
                type="text" 
                className="pl-10 w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent"
                placeholder="Nom de votre entreprise"
              />
            </div>
          </div>
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">Besoins sp√©cifiques</label>
            <div className="relative">
              <MessageSquare className="w-5 h-5 text-gray-400 absolute left-3 top-3" />
              <textarea 
                className="pl-10 w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent h-24 resize-none"
                placeholder="D√©crivez vos besoins..."
              />
            </div>
          </div>
          <div className="flex space-x-3 pt-4">
            <button 
              type="button"
              onClick={() => setShowContactForm(false)}
              className="flex-1 px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors"
            >
              Annuler
            </button>
            <button 
              type="submit"
              className="flex-1 px-6 py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-colors"
            >
              Envoyer
            </button>
          </div>
        </form>
      </div>
    </div>
  );

  return (
    <div className="min-h-screen bg-gray-50">
      {/* Header */}
      <div className="bg-gradient-to-r from-teal-500 to-teal-600 text-white">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
          <div className="text-center">
            <div className="flex items-center justify-center mb-6">
              <Brain className="w-12 h-12 mr-4" />
              <Zap className="w-8 h-8 text-yellow-300 animate-pulse" />
            </div>
            <h1 className="text-4xl md:text-5xl font-bold mb-4">
              Pilotez votre PME vers le futur
            </h1>
            <h2 className="text-2xl md:text-3xl font-light mb-6 text-teal-100">
              Le Dashboard IA par Elsyvia
            </h2>
            <p className="text-xl text-teal-100 max-w-3xl mx-auto leading-relaxed">
              Explorez la gestion d'entreprise r√©invent√©e par l'IA en conditions r√©elles. 
              D√©couvrez comment nos algorithmes pr√©dictifs transforment vos donn√©es en d√©cisions strat√©giques.
            </p>
          </div>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        
        {/* Bloc 1: KPIs Principaux */}
        <section className="mb-16">
          <h2 className="text-3xl font-bold text-gray-800 mb-8 text-center">
            Vue d'ensemble de votre performance
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {kpis.map((kpi, index) => (
              <KpiCard key={index} kpi={kpi} />
            ))}
          </div>
        </section>

        {/* Bloc 2: Moteur de Projection IA */}
        <section className="mb-16">
          <div className="bg-white p-8 rounded-2xl shadow-lg">
            <div className="flex items-center mb-8">
              <BarChart3 className="w-8 h-8 text-teal-500 mr-3" />
              <h2 className="text-3xl font-bold text-gray-800">Projections de Ventes IA</h2>
            </div>
            
            {/* Filtres interactifs */}
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-3">P√©riode de projection</label>
                <div className="space-y-2">
                  {[
                    { value: 'semaine', label: 'Semaine prochaine', icon: Calendar },
                    { value: 'mois', label: 'Mois prochain', icon: Calendar },
                    { value: 'trimestre', label: 'Prochain trimestre', icon: Calendar }
                  ].map(period => (
                    <button
                      key={period.value}
                      onClick={() => setSelectedPeriod(period.value)}
                      className={`w-full p-3 rounded-xl border-2 transition-all duration-200 flex items-center space-x-2 ${
                        selectedPeriod === period.value 
                          ? 'border-teal-500 bg-teal-50 text-teal-700' 
                          : 'border-gray-200 hover:border-teal-300'
                      }`}
                    >
                      <period.icon className="w-4 h-4" />
                      <span className="text-sm">{period.label}</span>
                    </button>
                  ))}
                </div>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-3">Sc√©nario m√©t√©o</label>
                <div className="space-y-2">
                  {[
                    { value: 'ensoleille', label: '‚òÄÔ∏è Ensoleill√©', icon: Sun },
                    { value: 'variable', label: 'üå¶Ô∏è Variable', icon: Cloud },
                    { value: 'pluvieux', label: 'üåßÔ∏è Pluvieux', icon: CloudRain },
                    { value: 'neige', label: '‚ùÑÔ∏è Neige', icon: Snowflake },
                    { value: 'canicule', label: 'üî• Canicule', icon: Thermometer }
                  ].map(weather => (
                    <button
                      key={weather.value}
                      onClick={() => setSelectedWeather(weather.value)}
                      className={`w-full p-2 rounded-xl border-2 transition-all duration-200 flex items-center space-x-2 text-sm ${
                        selectedWeather === weather.value 
                          ? 'border-teal-500 bg-teal-50 text-teal-700' 
                          : 'border-gray-200 hover:border-teal-300'
                      }`}
                    >
                      <span>{weather.label}</span>
                    </button>
                  ))}
                </div>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-3">Contexte/√âv√©nements</label>
                <div className="space-y-2">
                  {[
                    { value: 'aucun', label: 'Aucun' },
                    { value: 'vacances', label: 'Vacances scolaires' },
                    { value: 'competition', label: 'Marathon de Paris' },
                    { value: 'soldes', label: 'Soldes' }
                  ].map(event => (
                    <button
                      key={event.value}
                      onClick={() => setSelectedEvent(event.value)}
                      className={`w-full p-2 rounded-xl border-2 transition-all duration-200 text-sm ${
                        selectedEvent === event.value 
                          ? 'border-teal-500 bg-teal-50 text-teal-700' 
                          : 'border-gray-200 hover:border-teal-300'
                      }`}
                    >
                      {event.label}
                    </button>
                  ))}
                </div>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-3">Cat√©gorie de produits</label>
                <div className="space-y-2">
                  {[
                    { value: 'tous', label: 'Tous' },
                    { value: 'running', label: 'Running' },
                    { value: 'natation', label: 'Natation' },
                    { value: 'fitness', label: 'Fitness' },
                    { value: 'randonnee', label: 'Randonn√©e' }
                  ].map(category => (
                    <button
                      key={category.value}
                      onClick={() => setSelectedCategory(category.value)}
                      className={`w-full p-2 rounded-xl border-2 transition-all duration-200 text-sm ${
                        selectedCategory === category.value 
                          ? 'border-teal-500 bg-teal-50 text-teal-700' 
                          : 'border-gray-200 hover:border-teal-300'
                      }`}
                    >
                      {category.label}
                    </button>
                  ))}
                </div>
              </div>
            </div>

            {/* Graphique */}
            <div className="h-80 mb-6">
              <ResponsiveContainer width="100%" height="100%">
                <LineChart data={chartData}>
                  <CartesianGrid strokeDasharray="3 3" stroke="#f0f0f0" />
                  <XAxis 
                    dataKey="name" 
                    stroke="#6b7280"
                    fontSize={12}
                  />
                  <YAxis 
                    stroke="#6b7280"
                    fontSize={12}
                    tickFormatter={(value) => `${value/1000}k‚Ç¨`}
                  />
                  <Tooltip 
                    formatter={(value, name) => [`${value?.toLocaleString()} ‚Ç¨`, name === 'historique' ? 'Donn√©es historiques' : 'Projection IA']}
                  />
                  <Line 
                    type="monotone" 
                    dataKey="historique" 
                    stroke="#9ca3af" 
                    strokeWidth={2}
                    dot={{ fill: '#9ca3af', strokeWidth: 2, r: 4 }}
                    name="historique"
                  />
                  <Line 
                    type="monotone" 
                    dataKey="projection" 
                    stroke="#14b8a6" 
                    strokeWidth={3}
                    dot={{ fill: '#14b8a6', strokeWidth: 2, r: 6 }}
                    strokeDasharray="5 5"
                    name="projection"
                  />
                </LineChart>
              </ResponsiveContainer>
            </div>

            {/* Zone d'analyse IA */}
            <div className="bg-gradient-to-r from-teal-50 to-blue-50 p-6 rounded-xl border-l-4 border-teal-500">
              <p className="text-gray-700 leading-relaxed">{aiAnalysis}</p>
            </div>
          </div>
        </section>

        {/* Bloc 3: Optimisation Intelligente des Stocks */}
        <section className="mb-16">
          <div className="bg-white p-8 rounded-2xl shadow-lg">
            <div className="flex items-center mb-8">
              <Package className="w-8 h-8 text-teal-500 mr-3" />
              <h2 className="text-3xl font-bold text-gray-800">Optimisation Intelligente des Stocks</h2>
            </div>
            
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
              {/* Alertes de rupture */}
              <div>
                <h3 className="text-xl font-semibold text-gray-800 mb-4">Alertes de Rupture</h3>
                <div className="space-y-4">
                  <div className="p-4 bg-red-50 border-l-4 border-red-500 rounded-r-xl">
                    <div className="flex items-start space-x-3">
                      <AlertTriangle className="w-6 h-6 text-red-500 mt-1" />
                      <div>
                        <h4 className="font-semibold text-red-800">ALERTE HAUTE</h4>
                        <p className="text-red-700">Chaussures de trail (Taille 42-44)</p>
                        <p className="text-sm text-red-600 mt-1">Rupture estim√©e dans 8 jours pour cause d'√©v√©nement "Trail du Mont Blanc"</p>
                      </div>
                    </div>
                  </div>
                  
                  <div className="p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-r-xl">
                    <div className="flex items-start space-x-3">
                      <AlertTriangle className="w-6 h-6 text-yellow-500 mt-1" />
                      <div>
                        <h4 className="font-semibold text-yellow-800">ALERTE MOYENNE</h4>
                        <p className="text-yellow-700">Tapis de yoga √©co-responsable</p>
                        <p className="text-sm text-yellow-600 mt-1">Ventes en hausse constante (+18% ce mois)</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              {/* Suggestions d'action */}
              <div>
                <h3 className="text-xl font-semibold text-gray-800 mb-4">Recommandations IA</h3>
                <div className="space-y-4">
                  <div className="p-4 bg-green-50 border border-green-200 rounded-xl">
                    <div className="flex items-start space-x-3">
                      <Star className="w-6 h-6 text-green-500 mt-1" />
                      <div>
                        <h4 className="font-semibold text-green-800">Commande recommand√©e</h4>
                        <p className="text-green-700">15 paires de chaussures de trail Hoka Speedgoat 5</p>
                        <p className="text-sm text-green-600 mt-2">üí° Recommandation : √âtendre la gamme de produits durables</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Bloc 5: Call-to-Action */}
        <section className="mb-16">
          <div className="bg-gradient-to-r from-teal-500 to-teal-600 p-12 rounded-2xl text-white text-center">
            <div className="max-w-4xl mx-auto">
              <Brain className="w-16 h-16 mx-auto mb-6 text-teal-100" />
              <h2 className="text-4xl font-bold mb-6">Cette simulation vous inspire ?</h2>
              <p className="text-xl text-teal-100 mb-8 leading-relaxed">
                D√©couvrez comment le dashboard Elsyvia, connect√© √† vos donn√©es r√©elles, 
                peut transformer la gestion de votre entreprise et multiplier votre performance.
              </p>
              
              <div className="flex flex-col sm:flex-row gap-4 justify-center max-w-2xl mx-auto">
                <button 
                  onClick={() => setShowContactForm(true)}
                  className="flex items-center justify-center space-x-2 bg-white text-teal-600 px-8 py-4 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
                >
                  <Calendar className="w-5 h-5" />
                  <span>Planifier une d√©mo personnalis√©e</span>
                  <ArrowRight className="w-5 h-5" />
                </button>
                
                <button 
                  onClick={() => setShowContactForm(true)}
                  className="flex items-center justify-center space-x-2 bg-teal-400 text-white px-8 py-4 rounded-xl font-semibold hover:bg-teal-300 transition-all duration-300 border-2 border-teal-300 hover:border-white"
                >
                  <Mail className="w-5 h-5" />
                  <span>Recevoir une proposition</span>
                  <ArrowRight className="w-5 h-5" />
                </button>
              </div>

              <div className="mt-8 pt-8 border-t border-teal-400">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                  <div>
                    <div className="text-3xl font-bold mb-2">15min</div>
                    <div className="text-teal-100">D√©mo personnalis√©e</div>
                  </div>
                  <div>
                    <div className="text-3xl font-bold mb-2">0‚Ç¨</div>
                    <div className="text-teal-100">Audit gratuit</div>
                  </div>
                  <div>
                    <div className="text-3xl font-bold mb-2">24h</div>
                    <div className="text-teal-100">R√©ponse garantie</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Footer avec logos partenaires simul√©s */}
        <section className="text-center">
          <div className="bg-white p-8 rounded-2xl shadow-lg">
            <h3 className="text-xl font-semibold text-gray-800 mb-6">
              Ils nous font d√©j√† confiance
            </h3>
            <div className="grid grid-cols-2 md:grid-cols-4 gap-8 items-center opacity-60">
              <div className="h-12 bg-gray-200 rounded-lg flex items-center justify-center">
                <span className="text-gray-500 font-semibold">SportTech</span>
              </div>
              <div className="h-12 bg-gray-200 rounded-lg flex items-center justify-center">
                <span className="text-gray-500 font-semibold">FitStore</span>
              </div>
              <div className="h-12 bg-gray-200 rounded-lg flex items-center justify-center">
                <span className="text-gray-500 font-semibold">RunPlus</span>
              </div>
              <div className="h-12 bg-gray-200 rounded-lg flex items-center justify-center">
                <span className="text-gray-500 font-semibold">AquaZone</span>
              </div>
            </div>
          </div>
        </section>
      </div>

      {/* Formulaire de contact modal */}
      {showContactForm && <ContactForm />}
    </div>
  );
};

export default DashboardSimulation;600 mt-1">Livraison urgente conseill√©e avant le 15/08</p>
                      </div>
                    </div>
                  </div>
                  
                  <div className="p-4 bg-blue-50 border border-blue-200 rounded-xl">
                    <div className="flex items-start space-x-3">
                      <TrendingUp className="w-6 h-6 text-blue-500 mt-1" />
                      <div>
                        <h4 className="font-semibold text-blue-800">Opportunit√© d√©tect√©e</h4>
                        <p className="text-blue-700">Surstock d√©tect√© sur les poids de 2kg</p>
                        <p className="text-sm text-blue-600 mt-1">Action : lancer une promotion -15% pour 7 jours</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Bloc 4: Analyse des Tendances */}
        <section className="mb-16">
          <div className="bg-white p-8 rounded-2xl shadow-lg">
            <div className="flex items-center mb-8">
              <TrendingUp className="w-8 h-8 text-teal-500 mr-3" />
              <h2 className="text-3xl font-bold text-gray-800">Analyse des Tendances & Opportunit√©s</h2>
            </div>
            
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
              {/* Corr√©lation m√©t√©o-produits */}
              <div>
                <h3 className="text-xl font-semibold text-gray-800 mb-4">Corr√©lations M√©t√©o ‚Üí Produits</h3>
                <div className="space-y-3">
                  <div className="flex items-center justify-between p-3 bg-red-50 rounded-xl">
                    <div className="flex items-center space-x-3">
                      <Thermometer className="w-5 h-5 text-red-500" />
                      <span className="font-medium">Canicule</span>
                    </div>
                    <div className="text-sm text-gray-600">Gourdes +50%, Casquettes +35%, Natation +40%</div>
                  </div>
                  
                  <div className="flex items-center justify-between p-3 bg-blue-50 rounded-xl">
                    <div className="flex items-center space-x-3">
                      <CloudRain className="w-5 h-5 text-blue-500" />
                      <span className="font-medium">Pluie</span>
                    </div>
                    <div className="text-sm text-gray-600">Tapis de course +25%, V√™tements indoor +18%</div>
                  </div>
                  
                  <div className="flex items-center justify-between p-3 bg-yellow-50 rounded-xl">
                    <div className="flex items-center space-x-3">
                      <Sun className="w-5 h-5 text-yellow-500" />
                      <span className="font-medium">Soleil</span>
                    </div>
                    <div className="text-sm text-gray-600">Running +20%, Randonn√©e +15%, Cyclisme +30%</div>
                  </div>
                </div>
              </div>

              {/* Tendances march√© */}
              <div>
                <h3 className="text-xl font-semibold text-gray-800 mb-4">Tendances March√© D√©tect√©es</h3>
                <div className="space-y-4">
                  <div className="p-4 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl">
                    <div className="flex items-start space-x-3">
                      <Star className="w-6 h-6 text-purple-500 mt-1" />
                      <div>
                        <h4 className="font-semibold text-purple-800">Opportunit√© Padel</h4>
                        <p className="text-purple-700">L'int√©r√™t de recherche pour le 'Padel' a augment√© de 40% dans votre r√©gion</p>
                        <p className="text-sm text-purple-600 mt-2">üí° Recommandation : R√©f√©rencer des raquettes de padel et accessoires</p>
                      </div>
                    </div>
                  </div>
                  
                  <div className="p-4 bg-gradient-to-r from-green-50 to-teal-50 border border-green-200 rounded-xl">
                    <div className="flex items-start space-x-3">
                      <TrendingUp className="w-6 h-6 text-green-500 mt-1" />
                      <div>
                        <h4 className="font-semibold text-green-800">√âco-responsabilit√©</h4>
                        <p className="text-green-700">Les produits √©co-responsables montrent +65% de croissance</p>
                        <p className="text-sm text-green-
